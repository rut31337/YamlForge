# AWS Credentials Configuration
# YamlForge supports multiple AWS authentication methods

# =============================================================================
# AUTHENTICATION METHODS (Choose ONE)
# =============================================================================

# Method 1: Access Keys (Development)
access_key:
  enabled: false
  access_key_id: ""
  secret_access_key: ""
  region: "us-east-1"

# Method 2: IAM Role (Production/Cross-Account)
iam_role:
  enabled: false
  role_arn: "arn:aws:iam::ACCOUNT:role/YamlForgeRole"
  session_name: "yamlforge-session"
  region: "us-east-1"

# Method 3: AWS Profile (Recommended)
profile:
  enabled: true
  profile_name: "default"  # or your custom profile name
  region: "us-east-1"

# Method 4: Environment Variables (CI/CD)
environment:
  enabled: false
  region: "us-east-1"
  # Expects: AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY

# =============================================================================
# ROSA CLUSTER CONFIGURATION (Auto-Discovery)
# =============================================================================

# YamlForge automatically discovers:
# - aws_account_id: Current AWS account from credentials
# - aws_rosa_creator_arn: Current user/role ARN for ROSA
# - aws_billing_account_id: Defaults to aws_account_id unless set below

# OPTIONAL: Set billing account if different from current account
# Environment Variable: AWS_BILLING_ACCOUNT_ID
# If not set, defaults to the current AWS account ID

# =============================================================================
# TERRAFORM VARIABLE OVERRIDES (Optional)
# =============================================================================

terraform_vars:
  aws_region: "us-east-1"
  # These are auto-discovered, but can be overridden if needed:
  # aws_account_id: "123456789012"
  # aws_billing_account_id: "123456789012" 
  # aws_rosa_creator_arn: "arn:aws:iam::123456789012:user/username"

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. Configure AWS CLI: aws configure
# 2. Or set environment variables:
#    export AWS_ACCESS_KEY_ID="your-key"
#    export AWS_SECRET_ACCESS_KEY="your-secret"
#    export AWS_DEFAULT_REGION="us-east-1"
# 3. (Optional) Set billing account:
#    export AWS_BILLING_ACCOUNT_ID="123456789012"
# 4. Test: aws sts get-caller-identity

# ROSA Prerequisites:
# - AWS account with ROSA service enabled
# - Appropriate IAM permissions for ROSA
# - Red Hat OpenShift Cluster Manager token 